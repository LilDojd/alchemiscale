name: alchemiscale-server
channels:
  - jaimergp/label/unsupported-cudatoolkit-shim
  - conda-forge

dependencies:
  - pip
  - python =3.10

  # alchemiscale dependencies
  - gufe=1.0.0
  - openfe=1.0.1

  - requests
  - click
  - pydantic<2.0

  ## state store
  - neo4j-python-driver
  - py2neo
  - monotonic

  ## object store
  - boto3        # aws s3

  ## api(s)
  - fastapi
  - uvicorn=0.29.0
  - gunicorn=21.2.0
  - python-jose
  - passlib
  - bcrypt
  - python-multipart
  - starlette
  - httpx
  - cryptography

  # additional pins
  - openmm=8.1.2
  - openmmforcefields>=0.14.1

  - pip:
    - async_lru
    - git+https://github.com/openforcefield/alchemiscale.git@release-0.5.0-prep
    - git+https://github.com/choderalab/feflow.git@0.1.0
    - git+https://github.com/openforcefield/alchemiscale-fah.git@live-testing-alchemiscale-0.5.0-beta.a
